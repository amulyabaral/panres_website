/* --- Font Definitions --- */
/* @font-face rules removed */

/* --- Theme Variables --- */
:root {
    /* Core Palette */
    --color-primary: #990000; /* Corporate Red */
    --color-background: #ffffff; /* White */
    --color-surface: #ffffff; /* White */
    --color-text: #000000; /* Black */
    --color-white: #ffffff;
    --color-black: #000000;

    /* Neutrals & Accents */
    --color-border: #dddddd; /* Light Gray */
    --color-text-muted: #666666; /* Medium Gray */
    --color-code-bg: #f0f0f0; /* Very Light Gray */
    --color-code-text: #333333; /* Dark Gray */
    --color-hover-bg: #f5f5f5;
    --color-link: var(--color-primary);
    --color-link-hover: #6d0000; /* Darker Red */
    --color-footer-bg: #cccccc; /* Footer background */

    /* Fonts */
    --font-sans: 'Open Sans', system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif; /* Updated font */
    --font-mono: 'SF Mono', SFMono-Regular, ui-monospace, 'DejaVu Sans Mono', Menlo, Monaco, Consolas, 'Liberation Mono', 'Courier New', monospace;

    /* Layout */
    --border-radius: 3px;
    --border-default: 1px solid var(--color-border);
}

/* --- Base Styles --- */
html {
    height: 100%; /* Needed for sticky footer */
}
body {
    font-family: var(--font-sans); /* Uses updated variable */
    line-height: 1.5;
    margin: 0;
    padding: 0;
    background-color: var(--color-background);
    color: var(--color-text);
    font-size: 14px; /* Base size */
    font-weight: 400; /* Regular weight */
    display: flex; /* Needed for sticky footer */
    flex-direction: column; /* Needed for sticky footer */
    min-height: 100vh; /* Needed for sticky footer */
}

.container {
    max-width: 1100px;
    margin: 0 auto; /* Center container */
    padding: 0 1rem;
    flex-grow: 1; /* Allow main content to grow */
    width: 100%; /* Ensure container takes width */
    box-sizing: border-box;
}

/* --- Header (Badge Style) --- */
.site-header {
    width: 100%; /* Full width */
    background-image: url("DTU_Background_Pattern_Corporate_Red_RGB.jpg");
    background-color: var(--color-primary); /* Fallback color */
    background-size: cover;
    background-position: center center;
    background-repeat: no-repeat;
    color: var(--color-white);
    padding: 2rem 0; /* Vertical padding */
    margin-bottom: 1.5rem; /* Space below header */
    box-sizing: border-box;
}
.site-header .container { /* Apply container padding to header content */
    padding: 0 1rem;
}
.site-header h1 {
    margin: 0;
    font-family: var(--font-sans); /* Use base sans font */
    font-size: 2rem; /* Adjust size as needed */
    font-weight: 600; /* Semi-bold weight for header */
    text-align: left; /* Align left within container */
    color: var(--color-white);
}

/* --- Logo in Body --- */
.body-logo-container {
    text-align: center; /* Center the logo */
    margin-top: 1.5rem;
    margin-bottom: 1.5rem;
}
.body-logo {
    height: 50px; /* Adjust as needed */
    width: auto;
}

/* --- Main Content --- */
main {
    padding-bottom: 1rem; /* Add some padding at the bottom */
}

main h2, .content-card h3, .details-card h3, .grouping-card h3 {
    color: var(--color-primary); /* Red headings */
    margin-top: 1.5rem;
    margin-bottom: 1rem; /* Match inspiration */
    font-size: 1.4rem;
    font-weight: 600; /* Semi-bold */
    padding-bottom: 0.3rem;
    border-bottom: 1px solid var(--color-border);
    display: block;
    font-family: var(--font-sans); /* Use base sans font */
}
main h2:first-child, .content-card h3:first-child {
    margin-top: 0;
}
main h3 { /* Sub-headings */
    font-size: 1.2rem;
    color: var(--color-text);
    border-bottom: none;
    font-family: var(--font-sans); /* Use base sans font */
    font-weight: 600; /* Semi-bold */
}
main h4 { /* Sub-sub-headings */
    font-size: 1rem;
    color: var(--color-text-muted);
    margin-bottom: 0.5rem;
    font-weight: 600; /* Semi-bold */
    font-family: var(--font-sans); /* Use base sans font */
}

p {
    text-align: justify; /* Justify paragraph text */
    margin-bottom: 1rem;
}

a {
    color: var(--color-link);
    text-decoration: none;
    transition: color 0.2s ease;
}
a:hover {
    color: var(--color-link-hover);
    text-decoration: underline;
}

code, pre {
    font-family: var(--font-mono);
    background-color: var(--color-code-bg);
    padding: 0.15em 0.4em;
    border-radius: var(--border-radius);
    font-size: 0.9em;
    color: var(--color-code-text);
    border: var(--border-default);
    word-break: break-word;
    vertical-align: baseline;
}
pre { padding: 0.8em 1em; overflow-x: auto; }
a code { color: inherit; background-color: transparent; border: none; padding: 0; }
a:hover code { text-decoration: underline; }

/* --- Buttons --- */
.button, a.button, .browse-button, a.browse-button, .category-card .button, a.category-card .button {
    display: inline-block;
    padding: 0.5rem 1rem;
    border: 1px solid var(--color-primary);
    border-radius: var(--border-radius);
    text-decoration: none !important;
    cursor: pointer;
    transition: background-color 0.2s ease, color 0.2s ease, transform 0.1s ease;
    font-weight: 600; /* Make buttons slightly bolder */
    font-size: 0.9rem;
    font-family: var(--font-sans); /* Use base sans font */
    text-align: center;
    white-space: nowrap;
    background-color: var(--color-primary);
    color: var(--color-white) !important;
}
.button:hover, a.button:hover, .browse-button:hover, a.browse-button:hover, .category-card .button:hover, a.category-card .button:hover {
    background-color: var(--color-link-hover);
    border-color: var(--color-link-hover);
    color: var(--color-white) !important;
    text-decoration: none !important;
    transform: translateY(-1px);
}
.browse-button, a.browse-button, .category-card .button, a.category-card .button {
    padding: 0.3rem 0.8rem;
    font-size: 0.8rem;
    background-color: var(--color-surface);
    color: var(--color-primary) !important;
    border: 1px solid var(--color-border);
}
.browse-button:hover, a.browse-button:hover, .category-card .button:hover, a.category-card .button:hover {
    background-color: var(--color-hover-bg);
    border-color: var(--color-primary);
    color: var(--color-primary) !important;
    transform: none;
}

/* --- Cards (General) --- */
.content-card, .details-card, .grouping-card, .visualization-section, .citation-section {
    background-color: var(--color-surface);
    border: var(--border-default);
    border-radius: var(--border-radius);
    padding: 1rem 1.2rem;
    margin-bottom: 1.5rem;
    box-shadow: 0 1px 3px rgba(0,0,0,0.05);
}
.content-card:last-child, .details-card:last-child, .grouping-card:last-child, .visualization-section:last-child, .citation-section:last-child {
    margin-bottom: 0;
}

/* --- Index Page Specific --- */
.citation-section {
    font-size: 0.9rem;
    background-color: var(--color-code-bg);
    border-color: var(--color-border);
    box-shadow: none;
    padding: 0.8rem 1rem; /* Adjust padding */
}
.citation-section h4 {
    margin-top: 0;
    margin-bottom: 0.5rem;
    color: var(--color-text);
    border: none;
    font-size: 1rem;
    font-family: var(--font-sans); /* Use base sans font */
    font-weight: 600; /* Semi-bold */
}
.citation-section p {
    margin-bottom: 0;
    line-height: 1.5;
    color: var(--color-text-muted);
    text-align: left; /* Keep citation text left-aligned */
}

.intro-paragraph {
    font-size: 1rem;
    color: var(--color-text-muted);
    margin-bottom: 1rem;
    padding: 0 0.5rem;
    line-height: 1.4;
    text-align: center;
}

.viz-grid-container {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
    gap: 1.5rem;
    margin-bottom: 2rem;
    align-items: stretch;
}
.viz-column-left { display: flex; flex-direction: column; gap: 1.5rem; }
.visualization-section { padding: 0.8rem 1rem; display: flex; flex-direction: column; min-height: 150px; }
.visualization-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 0.8rem; padding-bottom: 0.5rem; border-bottom: var(--border-default); }
.visualization-header h4 { margin: 0; padding: 0; border: none; font-size: 1.1rem; font-weight: 600; color: var(--color-text); line-height: 1.2; flex-grow: 1; margin-right: 1rem; font-family: var(--font-sans); /* Use base sans font */ }
.visualization-section.placeholder { background-color: var(--color-hover-bg); text-align: center; color: var(--color-text-muted); font-style: italic; justify-content: center; align-items: center; box-shadow: none; border-style: dashed; }
.visualization-section.placeholder h4 { border-bottom: none; margin-bottom: 0.5rem; }

/* Bar Plot (Source DB) */
.v-barplot-container { padding: 0.1rem; flex-grow: 1; margin: 0; overflow-y: auto; border: none; }
.v-barplot-item { display: flex; align-items: center; margin-bottom: 3px; min-height: 20px; }
.v-barplot-label { width: 120px; font-size: 0.8rem; font-weight: normal; color: var(--color-text); text-align: right; margin-right: 5px; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; flex-shrink: 0; }
.v-barplot-bar-wrapper { flex-grow: 1; height: 18px; background-color: var(--color-code-bg); border-radius: var(--border-radius); display: flex; align-items: center; overflow: hidden; border: 1px solid var(--color-border); }
.v-barplot-bar {
    height: 100%;
    width: 0;
    background-color: #cccccc; /* Added a default neutral gray */
    border-radius: var(--border-radius);
    transition: width 1s ease-out;
    box-sizing: border-box;
}
.v-barplot-count { width: 50px; font-size: 0.8rem; font-weight: normal; color: var(--color-text-muted); margin-left: 5px; text-align: left; white-space: nowrap; flex-shrink: 0; }

/* Stacked Bar (Phenotypes) */
.stacked-bar-container { display: flex; width: 100%; height: 20px; border-radius: var(--border-radius); overflow: hidden; margin: 0.5rem 0; border: 1px solid var(--color-border); background-color: var(--color-code-bg); /* Add background for empty state */ }
.stacked-bar-segment {
    display: block;
    height: 100%;
    transition: filter 0.2s ease, width 1s ease-out;
    width: 0;
    /* background-color: #e0e0e0; <-- Remove default gray */
}
.stacked-bar-segment:hover { filter: brightness(85%); cursor: default; }
.stacked-bar-legend { display: flex; flex-wrap: wrap; gap: 0.3rem 0.8rem; margin-top: 0.5rem; padding: 0; overflow-y: auto; flex-grow: 1; max-height: 80px; }
.legend-item { display: flex; align-items: center; font-size: 0.8rem; line-height: 1.3; }
/* Add style for the color box */
.legend-color-box {
    display: inline-block;
    width: 12px;
    height: 12px;
    margin-right: 5px;
    border: 1px solid rgba(0,0,0,0.2);
    vertical-align: middle;
    flex-shrink: 0; /* Prevent shrinking */
}
.legend-label { color: var(--color-text); margin-right: 3px; white-space: nowrap; }
.legend-count { color: var(--color-text-muted); font-size: 0.9em; white-space: nowrap; }

/* Chart Containers */
.chart-container { position: relative; flex-grow: 1; display: flex; align-items: center; justify-content: center; width: 100%; height: 100%; min-height: 250px; padding: 0.5rem; margin: 0; }
#antibioticClassChart { display: block; max-width: 100%; max-height: 100%; }

/* Category Grid */
.category-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 1rem; margin-top: 1rem; }
.category-card { border: var(--border-default); border-radius: var(--border-radius); padding: 1rem; background-color: var(--color-surface); transition: border-color 0.2s ease-in-out, box-shadow 0.2s ease-in-out; display: flex; flex-direction: column; justify-content: space-between; }
.category-card:hover { border-color: var(--color-primary); box-shadow: 0 2px 5px rgba(0,0,0,0.1); }
.category-card h4 { margin-top: 0; margin-bottom: 0.3rem; color: var(--color-primary); font-size: 1rem; font-weight: 600; font-family: var(--font-sans); /* Use base sans font */ }
.category-card .category-description { font-size: 0.85rem; color: var(--color-text-muted); margin-bottom: 0.8rem; flex-grow: 1; min-height: 3em; line-height: 1.4; text-align: left; /* Descriptions left-aligned */ }
.category-card .button { align-self: flex-start; margin-top: auto; }

/* --- List Page Specific --- */
.category-info { color: var(--color-text-muted); font-size: 0.9rem; margin-bottom: 1.5rem; padding: 0.8rem; background-color: var(--color-code-bg); border: var(--border-default); border-radius: var(--border-radius); }
.item-list { list-style: none; padding-left: 0; margin-top: 1rem; columns: 2; column-gap: 2rem; }
.item-list li { padding: 0.3rem 0; break-inside: avoid-column; }
.item-list li a code { font-size: 0.95rem; }

/* Grouping Containers & Accordions */
.list-grouping-container { display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 1.5rem; margin-top: 1.5rem; }
.list-grouping-container.single-column { grid-template-columns: 1fr; }
.grouping-card { padding: 1rem 1.2rem; }
.grouping-card h3, .grouping-card h4 { margin-top: 0; font-size: 1.1rem; font-family: var(--font-sans); font-weight: 600; } /* Use base sans font, semi-bold */
.accordion { border-top: var(--border-default); }
.accordion-item { border-bottom: var(--border-default); }
.accordion-header { background-color: transparent; border: none; padding: 0.8rem 0.5rem; width: 100%; text-align: left; font-size: 1rem; font-weight: 600; cursor: pointer; display: flex; justify-content: space-between; align-items: center; color: var(--color-text); transition: background-color 0.2s ease; font-family: var(--font-sans); }
.accordion-header:hover { background-color: var(--color-hover-bg); }
.accordion-header .group-label-link { color: var(--color-link); text-decoration: none; flex-grow: 1; margin-right: 0.5rem; }
.accordion-header .group-label-link:hover { text-decoration: underline; }
.accordion-header code { font-size: 0.95em; }
.accordion-count { font-size: 0.85rem; color: var(--color-text-muted); margin-right: 0.8rem; white-space: nowrap; }
.accordion-icon { font-weight: bold; font-size: 1.2rem; min-width: 1em; text-align: right; color: var(--color-primary); }
.accordion-content { padding: 0.8rem 1rem; background-color: var(--color-hover-bg); border-top: var(--border-default); }
.grouped-item-list { list-style: none; padding-left: 0.5rem; margin: 0; max-height: 350px; overflow-y: auto; }
.grouped-item-list li { padding: 0.2rem 0; }
.grouped-item-list li a code { font-size: 0.9rem; }
.nested-grouping { padding: 1rem; margin: 1rem 0 0 0; border-left: 3px solid var(--color-primary); background-color: var(--color-white); }
.nested-accordion .accordion-header { font-size: 0.9rem; padding: 0.6rem 0.5rem; background-color: transparent; }
.nested-accordion .accordion-header:hover { background-color: var(--color-hover-bg); }
.nested-accordion .accordion-content { background-color: var(--color-white); padding-top: 0.5rem; }
.nested-grouping .grouping-card { margin-bottom: 1rem; box-shadow: none; border: var(--border-default); }
.nested-grouping .grouping-card h4 { font-size: 1rem; color: var(--color-text-muted); font-family: var(--font-sans); font-weight: 600; } /* Use base sans font, semi-bold */

/* --- Details Page Specific --- */
.details-container { margin-top: 1rem; }
.item-id-highlight { font-size: 1.8rem; margin-bottom: 0.2rem; font-family: var(--font-mono); color: var(--color-primary); font-weight: 700; border-bottom: none; padding-bottom: 0; text-align: center; }
.item-id-highlight code { font-size: inherit; color: inherit; }
.item-type-subheader { font-size: 1rem; color: var(--color-text-muted); margin-top: 0; margin-bottom: 2rem; font-weight: normal; text-align: center; }
.item-type-subheader a { color: var(--color-link); }
.item-type-subheader a:hover { text-decoration: underline; }
.item-type-subheader code { font-size: 0.9em; }
.details-property-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); gap: 1.5rem; margin-bottom: 2rem; }
.details-card { padding: 1rem 1.2rem; margin-bottom: 0; }
.details-card h3 { font-size: 1.1rem; margin-bottom: 1rem; font-family: var(--font-sans); font-weight: 600; } /* Use base sans font, semi-bold */
.details-list dt { font-size: 0.8rem; font-weight: 700; color: var(--color-text); margin-bottom: 0.3rem; text-transform: uppercase; letter-spacing: 0.5px; font-family: var(--font-sans); } /* Use base sans font, bold */
.details-list dd { margin-left: 0; margin-bottom: 1rem; font-size: 0.9rem; line-height: 1.4; }
.details-list dd:last-child { margin-bottom: 0; }
.details-list dd ul { list-style: none; padding: 0; margin: 0.2rem 0 0 0; }
.details-list dd ul li { margin-bottom: 0.3rem; padding: 0; border: none; }

/* Property Links as Tags/Buttons */
.property-values-buttons { display: flex; flex-wrap: wrap; gap: 0.4rem 0.6rem; }
.property-values-buttons li { margin-bottom: 0; padding: 0; }
.prop-link { display: inline-block; padding: 0.3em 0.8em; border-radius: var(--border-radius); font-size: 0.85em; font-weight: 500; line-height: 1.4; margin: 0.1em 0; border: 1px solid var(--color-border); text-decoration: none !important; transition: background-color 0.2s ease, color 0.2s ease, border-color 0.2s ease; color: var(--color-text); background-color: var(--color-hover-bg); }
.prop-link:hover { background-color: var(--color-border); border-color: var(--color-text-muted); color: var(--color-black); }
.prop-link code { font-size: 1em; color: inherit; font-weight: inherit; }
.prop-link-db, .prop-link-class, .prop-link-pheno, .prop-link-equiv, .prop-link-bio { background-color: #ffeeee; border-color: #ffcccc; color: var(--color-primary); }
.prop-link-db:hover, .prop-link-class:hover, .prop-link-pheno:hover, .prop-link-equiv:hover, .prop-link-bio:hover { background-color: #ffdddd; border-color: var(--color-primary); color: var(--color-primary); }
.prop-link-external { background-color: var(--color-code-bg); border-color: var(--color-border); color: var(--color-link); }
.prop-link-external:hover { background-color: var(--color-border); border-color: var(--color-text-muted); color: var(--color-link-hover); }
.external-icon { font-size: 0.9em; margin-left: 3px; display: inline-block; vertical-align: middle; }

/* Referenced By Section */
.details-card.referenced-by dt { display: none; }
.details-card.referenced-by dd { margin-bottom: 0.5rem; }
.details-card.referenced-by dd a code { background-color: var(--color-code-bg); border: var(--border-default); color: var(--color-code-text); padding: 0.15em 0.4em; }
.details-card.referenced-by dd a { color: var(--color-link); }
.details-card.referenced-by dd a:hover code { text-decoration: underline; }

/* --- Footer --- */
footer.page-footer {
    background-color: var(--color-footer-bg); /* Gray background */
    padding-top: 1rem;
    padding-bottom: 0; /* Remove bottom padding, handled by copyright */
    margin-top: 2rem; /* Ensure space above footer */
    width: 100%;
    box-sizing: border-box;
    flex-shrink: 0; /* Prevent footer from shrinking */
}
footer.page-footer .container {
    /* Footer content uses container */
    padding-bottom: 1.5rem; /* Padding for content above copyright */
}
footer h5, footer h6 {
    font-family: var(--font-sans); /* Use base sans font */
    font-weight: 600; /* Semi-bold */
    margin-bottom: 0.5rem;
    color: var(--color-text);
}
footer p {
    text-align: left; /* Align footer text left */
    font-size: 0.9rem;
    color: var(--color-text-muted);
}
.footer-copyright {
    font-family: var(--font-sans); /* Use base sans font */
    text-align: center;
    background-image: url("DTU_Background_Pattern_Corporate_Red_RGB.jpg");
    background-color: var(--color-primary); /* Fallback */
    background-size: cover;
    background-position: center center;
    color: var(--color-white);
    padding: 0.8rem 1rem; /* Padding for copyright */
    width: 100%;
    box-sizing: border-box;
}
.footer-copyright a {
    color: var(--color-white);
    text-decoration: underline;
}
.footer-copyright a:hover {
    text-decoration: none;
}
.back-links-footer {
    margin-top: 1.5rem;
    padding-top: 1rem;
    border-top: var(--border-default);
    text-align: center;
}
.back-link {
    display: inline-block;
    margin: 0 0.5rem 0.5rem 0.5rem;
    font-size: 0.9rem;
}

/* --- Responsive Adjustments --- */
@media (max-width: 768px) {
    .viz-grid-container, .list-grouping-container, .details-property-grid { grid-template-columns: 1fr; }
    .item-list { columns: 1; }
    .site-header h1 { font-size: 1.6rem; }
    .body-logo { height: 40px; }
}
@media (max-width: 576px) {
    .category-grid { grid-template-columns: 1fr; }
    body { font-size: 13px; }
    main h2, .content-card h3, .details-card h3, .grouping-card h3 { font-size: 1.3rem; }
    .item-id-highlight { font-size: 1.5rem; }
    .site-header { padding: 1.5rem 0; }
    .site-header h1 { font-size: 1.4rem; }
}

