<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>{% block title %}{{ site_name }}{% endblock %}</title>
    
    {# Add Roboto Font Link #}
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:ital,wght@0,100;0,300;0,400;0,500;0,700;0,900;1,100;1,300;1,400;1,500;1,700;1,900&display=swap" rel="stylesheet">

    {# Add Tailwind CSS via CDN #}
    <script src="https://cdn.tailwindcss.com"></script>

    {# Link to your custom CSS (optional, for overrides or specific styles like background) #}
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">

    <link rel="icon" href="{{ url_for('static', filename='panres_logo.png') }}" type="image/png">

    {# Basic Tailwind Configuration (Optional, can customize colors etc.) #}
    <script>
        tailwind.config = {
          theme: {
            extend: {
              colors: {
                'dtu-red': '#990000', // Define the primary red color
              }
            }
          }
        }
      </script>
    <style type="text/tailwindcss">
        /* You can add custom Tailwind directives here if needed */
        body {
            font-family: 'Roboto', sans-serif;
        }
        /* Style for the DTU background pattern */
        .dtu-pattern-bg {
            background-image: url("{{ url_for('static', filename='DTU_Background_Pattern_Corporate_Red_RGB.jpg') }}");
            background-color: #990000; /* Fallback */
            background-size: cover;
            background-position: center center;
            background-repeat: no-repeat;
        }
        /* Add other minimal base styles or overrides here */
        code {
            @apply bg-gray-200 text-gray-800 px-1 py-0.5 rounded text-sm font-mono;
        }
        /* Chart container aspect ratio */
        .chart-container {
            position: relative;
            height: 300px; /* Adjust height as needed */
            width: 100%;
        }
    </style>

</head>
{# Apply base body styles using Tailwind #}
<body class="flex flex-col min-h-screen bg-gray-100 bg-opacity-20">

    <div id="page-container" class="flex-grow">
        <div id="content-wrap" class="pb-10"> {# Add padding-bottom to push footer down #}

            {# --- Header based on ResFinder --- #}
            <header style="color: #202124;" class="dtu-pattern-bg w-full flex flex-row justify-between px-6 py-4 text-white items-center bg-white shadow-md mb-6">
                <a href="{{ url_for('index') }}" class="max-[500px]:text-xl max-[350px]:text-lg text-3xl font-medium flex flex-row items-center select-none fill-white text-white" draggable="false">
                    {# Use PanRes logo if available, otherwise DTU logo #}
                    <img src="{{ url_for('static', filename='panres_logo.png') }}" class="h-14 w-auto mr-4" draggable="false" alt="PanRes Logo"/>
                    {# Adjust title size for responsiveness #}
                    <span class="text-2xl max-[1100px]:text-xl">{{ site_name }}</span>
                </a>

                {# Desktop Navigation (Hidden on small screens) #}
                <nav class="hidden md:flex flex-row min-w-min">
                    {# Add navigation links here if needed in the future
                    <a class="font-medium px-4 text-lg hover:font-semibold text-white" href="#">Link 1</a>
                    <a class="font-medium px-4 text-lg hover:font-semibold text-white" href="#">Link 2</a>
                    #}
                </nav>

                {# Hamburger Menu Button (Visible on small screens) #}
                <button id="menuButton" class="md:hidden cursor-pointer text-white focus:outline-none">
                    <svg xmlns="http://www.w3.org/2000/svg" width="36" height="36" fill="currentColor" viewBox="0 0 16 16">
                        <path fill-rule="evenodd" d="M2.5 12a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5zm0-4a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5zm0-4a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5z" />
                    </svg>
                </button>
            </header>

            {# --- Mobile Navigation Overlay (Initially Hidden) --- #}
            <div id="mobileNav" class="dtu-pattern-bg z-30 bg-black bg-opacity-50 fixed inset-0 fill-white overflow-hidden hidden">
                 <div class='flex flex-row items-center w-full justify-between p-8'>
                    {# Placeholder for logo in mobile nav if needed #}
                    {# <img src="{{ url_for('static', filename='panres_logo.png') }}" alt="Logo" class="w-10 h-auto" /> #}
                    <span class="text-xl font-bold text-white">{{ site_name }}</span>
                    <button id="closeNav" class="cursor-pointer text-white focus:outline-none">
                        <svg xmlns="http://www.w3.org/2000/svg" height="40px" style="enable-background:new 0 0 512 512;" version="1.1" viewBox="0 0 512 512" width="40px" xml:space="preserve"><path d="M443.6,387.1L312.4,255.4l131.5-130c5.4-5.4,5.4-14.2,0-19.6l-37.4-37.6c-2.6-2.6-6.1-4-9.8-4c-3.7,0-7.2,1.5-9.8,4  L256,197.8L124.9,68.3c-2.6-2.6-6.1-4-9.8-4c-3.7,0-7.2,1.5-9.8,4L68,105.9c-5.4,5.4-5.4,14.2,0,19.6l131.5,130L68.4,387.1  c-2.6,2.6-4.1,6.1-4.1,9.8c0,3.7,1.4,7.2,4.1,9.8l37.4,37.6c2.7,2.7,6.2,4.1,9.8,4.1c3.5,0,7.1-1.3,9.8-4.1L256,313.1l130.7,131.1  c2.7,2.7,6.2,4.1,9.8,4.1c3.5,0,7.1-1.3,9.8-4.1l37.4-37.6c2.6-2.6,4.1-6.1,4.1-9.8C447.7,393.2,446.2,389.7,443.6,387.1z"/></svg>
                    </button>
                </div>
                 <nav class="p-8 flex flex-col space-y-8 text-white">
                    {# Add mobile navigation links here if needed #}
                    <a class="mobileNavItem transition-all duration-100 flex flex-row items-center text-2xl pb-2 border-b border-transparent hover:border-white" href="{{ url_for('index') }}">Home</a>
                    {# Example: <a class="mobileNavItem ..." href="#">Link 1</a> #}
                 </nav>
            </div>


            {# --- Main Content Area --- #}
            {# Use Tailwind container for max-width and centering #}
            <main class="container mx-auto px-4 md:px-6">
                {# Optional: Add site-wide banner like ResFinder if needed #}
                {# <div class="bg-blue-50 border-b border-blue-400 text-blue-800 text-sm p-4 flex justify-between mb-6 rounded"> ... </div> #}

                {# --- Citation Block (Moved from specific pages) --- #}
                 {% block header_content %}
                    {# Render citation if provided by the route #}
                    {% if citation_text %}
                    <div class="p-4 bg-neutral-100 my-6 rounded-md shadow-lg">
                        <div class="bg-white rounded-md p-4 space-y-2">
                             <h3 class="text-xl font-medium text-dtu-red">Citation</h3>
                             <p class="text-sm text-gray-700">{{ citation_text|safe }}</p>
                        </div>
                    </div>
                    {% endif %}
                 {% endblock %}


                {# --- Page Specific Content --- #}
                {% block content %}
                <!-- Page-specific content will go here -->
                {% endblock %}
            </main>

        </div> {# End #content-wrap #}
    </div> {# End #page-container #}


    {# --- Footer based on ResFinder --- #}
    <footer class="p-4 bg-white rounded-lg shadow md:px-6 md:py-8 mt-auto"> {# mt-auto pushes footer down #}
        <div class="sm:flex sm:items-center sm:justify-between container mx-auto">
            <a href="https://www.genomicepidemiology.org/" class="flex items-center mb-4 sm:mb-0" target="_blank" rel="noopener noreferrer">
                {# Link to CGE or DTU Food #}
                 <img class="mr-3 h-8" src="{{ url_for('static', filename='DTU_Food_logo_UK_RED_SMALL.png') }}" alt="DTU Food Logo"/>
            </a>
            <ul class="flex flex-wrap items-center mb-6 text-sm text-gray-500 sm:mb-0">
                {# Add relevant links #}
                <li><a href="https://www.genomicepidemiology.org/contact/" target="_blank" rel="noopener noreferrer" class="mr-4 hover:underline md:mr-6">Contact</a></li>
                <li><a href="https://www.genomicepidemiology.org/privacy-policy/" target="_blank" rel="noopener noreferrer" class="mr-4 hover:underline md:mr-6">Privacy Policy</a></li>
                {# Add other links if applicable #}
            </ul>
        </div>
        <hr class="my-6 border-gray-200 sm:mx-auto lg:my-8 container mx-auto" />
        <span class="block text-sm text-gray-500 sm:text-center container mx-auto">
            © {{ current_year }}
            <a href="https://www.genomicepidemiology.org/" class="hover:underline" target="_blank" rel="noopener noreferrer">Center for Genomic Epidemiology™</a>.
            All Rights Reserved.
        </span>
    </footer>

    {# Chart.js Scripts (Keep these) #}
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.1/dist/chart.umd.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chartjs-plugin-datalabels@2.2.0/dist/chartjs-plugin-datalabels.min.js"></script>

    {# Add Navigation Script #}
    <script src="{{ url_for('static', filename='navigation.js') }}"></script>

    {# Page specific scripts block #}
    {% block scripts %}{% endblock %}

</body>
</html> 